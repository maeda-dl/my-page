<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>アニメーション表示</title>
<style>
html, body {
  margin:0; padding:0; height:100%;
  font-family:sans-serif;
  overflow:hidden;
  background: linear-gradient(120deg, #f0f8ff, #e6f7ff);
  transition: background 1s ease;
}

/* 粒子キャンバス */
#particles {
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 1;
}

/* コンテナ */
.container {
  position: relative;
  width: 90%;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: 1em;
  margin-top: 10%;
  z-index: 2;
  text-align: center;
}

/* 共通文字 */
.message {
  opacity: 0;
  transition: opacity 1s ease, transform 1s ease;
}

/* 個別サイズ */
#msg1 { font-size: clamp(20px,5vw,60px); }
#dataLine { font-size: clamp(24px,6vw,70px); font-weight:bold; }
#msg3 { font-size: clamp(20px,5vw,60px); }

/* 画像ラッパー（上端位置固定） */
.image-wrapper {
  position: relative;
  width: 80%;
  height: auto;
  min-height: 300px; /* 上端位置を固定 */
}

/* 画像 */
.image {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  max-width: 100%;
  opacity: 0;
  transition: opacity 1s ease;
}

/* 前田です */
#msgFinal {
  font-size: clamp(30px,8vw,80px);
  background: rgba(255,255,255,0.6);
  padding: 10px 20px;
  border-radius: 15px;
  opacity: 0;
  transition: opacity 1s ease, transform 1s ease;
}
</style>
</head>
<body>
<canvas id="particles"></canvas>

<div class="container">
  <div id="msg1" class="message">はじめまして</div>
  <div id="dataLine" class="message">Data Line</div>
  <div id="msg3" class="message">の</div>

  <!-- 画像ラッパーで上端固定 -->
  <div class="image-wrapper">
    <img id="imgA" class="image" src="A.png">
    <img id="imgB" class="image" src="B.png">
  </div>

  <div id="msgFinal">前田です</div>
</div>

<script>
// -----------------------------
// 粒子エフェクト（グレー濃め）
// -----------------------------
const canvas = document.getElementById("particles");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particles = [];
for (let i=0;i<100;i++){
  particles.push({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    r: Math.random()*3+1,
    dx: (Math.random()-0.5)*1.2,
    dy: (Math.random()-0.5)*1.2
  });
}

function drawParticles(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = "rgba(128,128,128,0.8)";
  particles.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fill();
    p.x += p.dx; p.y += p.dy;
    if(p.x<0||p.x>canvas.width) p.dx*=-1;
    if(p.y<0||p.y>canvas.height) p.dy*=-1;
  });
  requestAnimationFrame(drawParticles);
}
drawParticles();

window.addEventListener("resize", ()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

// -----------------------------
// 背景色を3秒ごとに淡く変化
// -----------------------------
const bgColors = ["#f0f8ff","#e6f7ff","#f5f5dc","#fffaf0"];
let colorIndex = 0;
setInterval(()=>{
  colorIndex = (colorIndex+1)%bgColors.length;
  document.body.style.background = bgColors[colorIndex];
},3000);

// -----------------------------
// アニメーション順序
// -----------------------------
function fadeIn(el, delay=0){
  setTimeout(()=>{
    el.style.opacity = 1;
    el.style.transform = "translateY(0)";
  }, delay);
}

// 下から少しスライドする初期値
["msg1","dataLine","msg3","imgA","imgB","msgFinal"].forEach(id=>{
  const el = document.getElementById(id);
  el.style.transform = "translateY(20px)";
});

// フェードイン順
fadeIn(document.getElementById("msg1"), 500);
fadeIn(document.getElementById("dataLine"), 2000);
fadeIn(document.getElementById("msg3"), 3500);
fadeIn(document.getElementById("imgA"), 5000);

// 画像Aを消して画像Bと前田です表示（上端揃え）
setTimeout(()=>{
  document.getElementById("imgA").style.opacity = 0;
  document.getElementById("imgB").style.opacity = 1;
  document.getElementById("msgFinal").style.opacity = 1;
},8000);

</script>
</body>
</html>
