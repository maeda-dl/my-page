<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>はじめてのGitHub</title>
<style>
html, body {
  margin:0; padding:0; height:100%;
  font-family:sans-serif;
  overflow:hidden;
  background: linear-gradient(270deg, #ff5f6d, #ffc371, #24c6dc, #514a9d);
  background-size:100% 100%;
  animation: gradientBG 20s ease infinite;
  display:flex; justify-content:center; align-items:center;
  flex-direction:column; color:#fff;
}
@keyframes gradientBG {
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
.content{
  position:relative; z-index:1;
  display:flex; flex-direction:column; align-items:center;
  width:100%;
  text-align:center;
}
.message{
  font-size:3em;
  margin:0.2em 0;
  padding:5px 10px;
  border-radius:10px; background:rgba(0,0,0,0.3);
  opacity:0; position:relative;
}
.line{
  display:inline-block;
  margin:0 5px;
}
img{
  opacity:0; max-width:90vw; height:auto; position:relative; margin:5px 0;
}
#imgA{position:absolute; bottom:0; width:100%; height:auto;}
#imgB{max-width:90vw;}
canvas{
  position:absolute; top:0; left:0; z-index:0;
}
</style>
</head>
<body>
<canvas id="particleCanvas"></canvas>
<div class="content" id="content">
  <div id="msgFinal" class="message">前田です。</div>
  <img id="imgA" src="A.png" alt="画像A">
  <img id="imgB" src="B.png" alt="画像B">
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js"></script>
<script>
const content = document.getElementById("content");

// --------------------------
// タイムライン作成
// --------------------------
const tl = gsap.timeline();

// 1. 「はじめまして」 上から10px付近
const msgHi = document.createElement("div");
msgHi.className="message"; msgHi.textContent="はじめまして";
content.insertBefore(msgHi, content.firstChild);
gsap.set(msgHi,{y:10, opacity:0});
tl.to(msgHi,{y:0, opacity:1, duration:1, ease:"power2.out"});

// 2. 「Data Line」 はじめましての下に中央揃え
tl.add(()=>{
  const wrapper = document.createElement("div");
  wrapper.id="dataLine";
  const msgData = document.createElement("span"); msgData.className="line"; msgData.textContent="Data";
  const msgLine = document.createElement("span"); msgLine.className="line"; msgLine.textContent="Line";
  wrapper.appendChild(msgData); wrapper.appendChild(msgLine);
  content.insertBefore(wrapper,msgHi.nextSibling);
  gsap.set(wrapper,{opacity:0});
  gsap.to(wrapper,{opacity:1,duration:1});
}, "+=0.5");

// 3. 「の」 DataLine下に中央
tl.add(()=>{
  const divNo = document.createElement("div");
  divNo.className="message"; divNo.textContent="の";
  content.insertBefore(divNo, content.querySelector("#imgA"));
  gsap.set(divNo,{scale:0,opacity:0});
  gsap.to(divNo,{scale:1, opacity:1, duration:1, ease:"back.out(1.7)"});
}, "+=0.5");

// 4. 画像A 下半分にじわり表示
const imgA = document.getElementById("imgA");
gsap.set(imgA,{opacity:0, scale:1});
tl.to(imgA,{opacity:1, duration:1.5, ease:"power1.out"}, "+=0.5");

// 5. 画像A消して、画像Bと前田です 同時にぱっと表示
const imgB = document.getElementById("imgB");
const msgFinal = document.getElementById("msgFinal");
gsap.set([imgB,msgFinal],{opacity:0});
tl.to(imgA,{opacity:0,duration:0.5}, "+=1");
tl.to([imgB,msgFinal],{opacity:1,duration:0.5}, "-=0.2");

// --------------------------
// 粒子背景
// --------------------------
const canvas=document.getElementById("particleCanvas");
const ctx=canvas.getContext("2d");
let w,h;
function resize(){ w=canvas.width=window.innerWidth; h=canvas.height=window.innerHeight; }
window.addEventListener("resize",resize); resize();
const particles=[]; const numParticles=100;
for(let i=0;i<numParticles;i++){
  particles.push({x:Math.random()*w, y:Math.random()*h, r:Math.random()*3+1, dx:(Math.random()-0.5)*1.5, dy:(Math.random()-0.5)*1.5});
}
function draw(){
  ctx.clearRect(0,0,w,h);
  particles.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle="rgba(255,255,255,0.8)";
    ctx.fill();
    p.x+=p.dx; p.y+=p.dy;
    if(p.x<0||p.x>w) p.dx*=-1;
    if(p.y<0||p.y>h) p.dy*=-1;
  });
  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>
